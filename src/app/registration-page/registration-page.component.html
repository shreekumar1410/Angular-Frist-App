<div class="form-container">
  <h2>Registration Form</h2>

  <form #myForm="ngForm">

    <!-- Name -->
    <div class="form-group">
      <label>Full Name <span class="required">*</span></label>
      <input type="text" 
             [(ngModel)]="registration.name" 
             name="name"
             required
             minlength="3"
             #nameError="ngModel"
             class="form-input"
             placeholder="Enter your full name" />
      <div *ngIf="nameError.invalid && nameError.touched" class="error-message">
        <span *ngIf="nameError.errors?.['required']">Name is required.</span>
        <span *ngIf="nameError.errors?.['minlength']">Name must be at least 3 characters.</span>
      </div>
    </div>

    <!-- Email -->
    <div class="form-group">
      <label>Email <span class="required">*</span></label>
      <input type="email" 
             [(ngModel)]="registration.email" 
             name="email"
             required
             pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}"
             #emailError="ngModel"
             class="form-input"
             placeholder="Enter your email address" />
      <div *ngIf="emailError.invalid && emailError.touched" class="error-message">
        <span *ngIf="emailError.errors?.['required']">Email is required.</span>
        <span *ngIf="emailError.errors?.['pattern']">Please enter a valid email address.</span>
      </div>
    </div>

    <!-- Phone -->
    <div class="form-group">
      <label>Phone Number <span class="required">*</span></label>
      <input type="tel" 
             [(ngModel)]="registration.number" 
             name="number"
             required
             pattern="[0-9]{10}"
             #phoneError="ngModel"
             class="form-input"
             placeholder="Enter 10-digit phone number" />
      <div *ngIf="phoneError.invalid && phoneError.touched" class="error-message">
        <span *ngIf="phoneError.errors?.['required']">Phone number is required.</span>
        <span *ngIf="phoneError.errors?.['pattern']">Phone number must be 10 digits.</span>
      </div>
    </div>

    <!-- Password -->
    <div class="form-group">
      <label>Password <span class="required">*</span></label>
      <input type="password" 
             [(ngModel)]="registration.password" 
             name="password"
             required
             minlength="8"
             #passwordError="ngModel"
             class="form-input"
             placeholder="Minimum 8 characters" />
      <div *ngIf="passwordError.invalid && passwordError.touched" class="error-message">
        <span *ngIf="passwordError.errors?.['required']">Password is required.</span>
        <span *ngIf="passwordError.errors?.['minlength']">Password must be at least 8 characters.</span>
      </div>
    </div>

    <!-- Confirm Password -->
    <div class="form-group">
      <label>Confirm Password <span class="required">*</span></label>
      <input type="password" 
             [(ngModel)]="registration.confirmPassword" 
             name="confirmPassword"
             required
             #confirmError="ngModel"
             class="form-input"
             placeholder="Re-enter your password" />
      <div *ngIf="confirmError.touched" class="error-message">
        <span *ngIf="confirmError.errors?.['required']">Confirmation password is required.</span>
        <span *ngIf="registration.password && registration.confirmPassword && registration.password !== registration.confirmPassword">
          Passwords do not match.
        </span>
      </div>
    </div>

    <!-- Gender -->
    <div class="form-group">
      <label>Gender <span class="required">*</span></label>
      <div class="radio-group">
        <label class="radio-label">
          <input type="radio" name="gender" [(ngModel)]="registration.gender" value="Male" required />
          <span>Male</span>
        </label>
        <label class="radio-label">
          <input type="radio" name="gender" [(ngModel)]="registration.gender" value="Female" required />
          <span>Female</span>
        </label>
        <label class="radio-label">
          <input type="radio" name="gender" [(ngModel)]="registration.gender" value="Other" required />
          <span>Other</span>
        </label>
      </div>
    </div>

    <!-- Terms & Conditions -->
    <div class="form-group checkbox-group">
      <label class="checkbox-label">
        <input type="checkbox" 
               [(ngModel)]="registration.agreeTerms" 
               name="agreeTerms"
               required
               #termsError="ngModel" />
        <span>I agree to the Terms and Conditions <span class="required">*</span></span>
      </label>
      <div *ngIf="termsError.invalid && termsError.touched" class="error-message">
        You must agree to the terms.
      </div>
    </div>

    <button type="submit" 
            class="btn-submit" 
            (click)="Onsubmit()"
            [disabled]="myForm.invalid"
            routerLink="/login">
      Register
    </button>

  </form>
</div>
